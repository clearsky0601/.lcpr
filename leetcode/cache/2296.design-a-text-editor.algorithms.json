{"id": 2296, "fid": "2296", "name": "设计一个文本编辑器", "slug": "design-a-text-editor", "link": "https://leetcode.cn/problems/design-a-text-editor/description/", "percent": 0, "level": "Hard", "category": "algorithms", "en_name": "Design a Text Editor", "cn_name": "设计一个文本编辑器", "desc": "<p>请你设计一个带光标的文本编辑器，它可以实现以下功能：</p>\n\n<ul>\n\t<li><strong>添加：</strong>在光标所在处添加文本。</li>\n\t<li><strong>删除：</strong>在光标所在处删除文本（模拟键盘的删除键）。</li>\n\t<li><strong>移动：</strong>将光标往左或者往右移动。</li>\n</ul>\n\n<p>当删除文本时，只有光标左边的字符会被删除。光标会留在文本内，也就是说任意时候&nbsp;<code>0 &lt;= cursor.position &lt;= currentText.length</code>&nbsp;都成立。</p>\n\n<p>请你实现&nbsp;<code>TextEditor</code>&nbsp;类：</p>\n\n<ul>\n\t<li><code>TextEditor()</code>&nbsp;用空文本初始化对象。</li>\n\t<li><code>void addText(string text)</code>&nbsp;将&nbsp;<code>text</code>&nbsp;添加到光标所在位置。添加完后光标在&nbsp;<code>text</code>&nbsp;的右边。</li>\n\t<li><code>int deleteText(int k)</code>&nbsp;删除光标左边&nbsp;<code>k</code>&nbsp;个字符。返回实际删除的字符数目。</li>\n\t<li><code>string cursorLeft(int k)</code> 将光标向左移动&nbsp;<code>k</code>&nbsp;次。返回移动后光标左边&nbsp;<code>min(10, len)</code>&nbsp;个字符，其中&nbsp;<code>len</code>&nbsp;是光标左边的字符数目。</li>\n\t<li><code>string cursorRight(int k)</code>&nbsp;将光标向右移动&nbsp;<code>k</code>&nbsp;次。返回移动后光标左边&nbsp;<code>min(10, len)</code>&nbsp;个字符，其中&nbsp;<code>len</code>&nbsp;是光标左边的字符数目。</li>\n</ul>\n\n<p>&nbsp;</p>\n\n<p><strong>示例 1：</strong></p>\n\n<pre>\n<strong>输入：</strong>\n[\"TextEditor\", \"addText\", \"deleteText\", \"addText\", \"cursorRight\", \"cursorLeft\", \"deleteText\", \"cursorLeft\", \"cursorRight\"]\n[[], [\"leetcode\"], [4], [\"practice\"], [3], [8], [10], [2], [6]]\n<strong>输出：</strong>\n[null, null, 4, null, \"etpractice\", \"leet\", 4, \"\", \"practi\"]\n\n<strong>解释：</strong>\nTextEditor textEditor = new TextEditor(); // 当前 text 为 \"|\" 。（'|' 字符表示光标）\ntextEditor.addText(\"leetcode\"); // 当前文本为 \"leetcode|\" 。\ntextEditor.deleteText(4); // 返回 4\n                          // 当前文本为 \"leet|\" 。\n                          // 删除了 4 个字符。\ntextEditor.addText(\"practice\"); // 当前文本为 \"leetpractice|\" 。\ntextEditor.cursorRight(3); // 返回 \"etpractice\"\n                           // 当前文本为 \"leetpractice|\". \n                           // 光标无法移动到文本以外，所以无法移动。\n                           // \"etpractice\" 是光标左边的 10 个字符。\ntextEditor.cursorLeft(8); // 返回 \"leet\"\n                          // 当前文本为 \"leet|practice\" 。\n                          // \"leet\" 是光标左边的 min(10, 4) = 4 个字符。\ntextEditor.deleteText(10); // 返回 4\n                           // 当前文本为 \"|practice\" 。\n                           // 只有 4 个字符被删除了。\ntextEditor.cursorLeft(2); // 返回 \"\"\n                          // 当前文本为 \"|practice\" 。\n                          // 光标无法移动到文本以外，所以无法移动。\n                          // \"\" 是光标左边的 min(10, 0) = 0 个字符。\ntextEditor.cursorRight(6); // 返回 \"practi\"\n                           // 当前文本为 \"practi|ce\" 。\n                           // \"practi\" 是光标左边的 min(10, 6) = 6 个字符。\n</pre>\n\n<p>&nbsp;</p>\n\n<p><strong>提示：</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= text.length, k &lt;= 40</code></li>\n\t<li><code>text</code>&nbsp;只含有小写英文字母。</li>\n\t<li>调用 <code>addText</code>&nbsp;，<code>deleteText</code>&nbsp;，<code>cursorLeft</code> 和&nbsp;<code>cursorRight</code>&nbsp;的 <strong>总</strong> 次数不超过&nbsp;<code>2 * 10<sup>4</sup></code>&nbsp;次。</li>\n</ul>\n\n<p>&nbsp;</p>\n\n<p><strong>进阶：</strong>你能设计并实现一个每次调用时间复杂度为 <code>O(k)</code> 的解决方案吗？</p>\n", "templates": [{"value": "cpp", "text": "C++", "defaultCode": "class TextEditor {\npublic:\n    TextEditor() {\n        \n    }\n    \n    void addText(string text) {\n        \n    }\n    \n    int deleteText(int k) {\n        \n    }\n    \n    string cursorLeft(int k) {\n        \n    }\n    \n    string cursorRight(int k) {\n        \n    }\n};\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * TextEditor* obj = new TextEditor();\n * obj->addText(text);\n * int param_2 = obj->deleteText(k);\n * string param_3 = obj->cursorLeft(k);\n * string param_4 = obj->cursorRight(k);\n */"}, {"value": "java", "text": "Java", "defaultCode": "class TextEditor {\n\n    public TextEditor() {\n        \n    }\n    \n    public void addText(String text) {\n        \n    }\n    \n    public int deleteText(int k) {\n        \n    }\n    \n    public String cursorLeft(int k) {\n        \n    }\n    \n    public String cursorRight(int k) {\n        \n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * TextEditor obj = new TextEditor();\n * obj.addText(text);\n * int param_2 = obj.deleteText(k);\n * String param_3 = obj.cursorLeft(k);\n * String param_4 = obj.cursorRight(k);\n */"}, {"value": "python", "text": "Python", "defaultCode": "class TextEditor(object):\n\n    def __init__(self):\n        \n\n    def addText(self, text):\n        \"\"\"\n        :type text: str\n        :rtype: None\n        \"\"\"\n        \n\n    def deleteText(self, k):\n        \"\"\"\n        :type k: int\n        :rtype: int\n        \"\"\"\n        \n\n    def cursorLeft(self, k):\n        \"\"\"\n        :type k: int\n        :rtype: str\n        \"\"\"\n        \n\n    def cursorRight(self, k):\n        \"\"\"\n        :type k: int\n        :rtype: str\n        \"\"\"\n        \n\n\n# Your TextEditor object will be instantiated and called as such:\n# obj = TextEditor()\n# obj.addText(text)\n# param_2 = obj.deleteText(k)\n# param_3 = obj.cursorLeft(k)\n# param_4 = obj.cursorRight(k)"}, {"value": "python3", "text": "Python3", "defaultCode": "class TextEditor:\n\n    def __init__(self):\n        \n\n    def addText(self, text: str) -> None:\n        \n\n    def deleteText(self, k: int) -> int:\n        \n\n    def cursorLeft(self, k: int) -> str:\n        \n\n    def cursorRight(self, k: int) -> str:\n        \n\n\n# Your TextEditor object will be instantiated and called as such:\n# obj = TextEditor()\n# obj.addText(text)\n# param_2 = obj.deleteText(k)\n# param_3 = obj.cursorLeft(k)\n# param_4 = obj.cursorRight(k)"}, {"value": "c", "text": "C", "defaultCode": "\n\n\ntypedef struct {\n    \n} TextEditor;\n\n\nTextEditor* textEditorCreate() {\n    \n}\n\nvoid textEditorAddText(TextEditor* obj, char* text) {\n    \n}\n\nint textEditorDeleteText(TextEditor* obj, int k) {\n    \n}\n\nchar* textEditorCursorLeft(TextEditor* obj, int k) {\n    \n}\n\nchar* textEditorCursorRight(TextEditor* obj, int k) {\n    \n}\n\nvoid textEditorFree(TextEditor* obj) {\n    \n}\n\n/**\n * Your TextEditor struct will be instantiated and called as such:\n * TextEditor* obj = textEditorCreate();\n * textEditorAddText(obj, text);\n \n * int param_2 = textEditorDeleteText(obj, k);\n \n * char* param_3 = textEditorCursorLeft(obj, k);\n \n * char* param_4 = textEditorCursorRight(obj, k);\n \n * textEditorFree(obj);\n*/"}, {"value": "csharp", "text": "C#", "defaultCode": "public class TextEditor {\n\n    public TextEditor() {\n        \n    }\n    \n    public void AddText(string text) {\n        \n    }\n    \n    public int DeleteText(int k) {\n        \n    }\n    \n    public string CursorLeft(int k) {\n        \n    }\n    \n    public string CursorRight(int k) {\n        \n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * TextEditor obj = new TextEditor();\n * obj.AddText(text);\n * int param_2 = obj.DeleteText(k);\n * string param_3 = obj.CursorLeft(k);\n * string param_4 = obj.CursorRight(k);\n */"}, {"value": "javascript", "text": "JavaScript", "defaultCode": "\nvar TextEditor = function() {\n    \n};\n\n/** \n * @param {string} text\n * @return {void}\n */\nTextEditor.prototype.addText = function(text) {\n    \n};\n\n/** \n * @param {number} k\n * @return {number}\n */\nTextEditor.prototype.deleteText = function(k) {\n    \n};\n\n/** \n * @param {number} k\n * @return {string}\n */\nTextEditor.prototype.cursorLeft = function(k) {\n    \n};\n\n/** \n * @param {number} k\n * @return {string}\n */\nTextEditor.prototype.cursorRight = function(k) {\n    \n};\n\n/** \n * Your TextEditor object will be instantiated and called as such:\n * var obj = new TextEditor()\n * obj.addText(text)\n * var param_2 = obj.deleteText(k)\n * var param_3 = obj.cursorLeft(k)\n * var param_4 = obj.cursorRight(k)\n */"}, {"value": "typescript", "text": "TypeScript", "defaultCode": "class TextEditor {\n    constructor() {\n        \n    }\n\n    addText(text: string): void {\n        \n    }\n\n    deleteText(k: number): number {\n        \n    }\n\n    cursorLeft(k: number): string {\n        \n    }\n\n    cursorRight(k: number): string {\n        \n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * var obj = new TextEditor()\n * obj.addText(text)\n * var param_2 = obj.deleteText(k)\n * var param_3 = obj.cursorLeft(k)\n * var param_4 = obj.cursorRight(k)\n */"}, {"value": "php", "text": "PHP", "defaultCode": "class TextEditor {\n    /**\n     */\n    function __construct() {\n        \n    }\n  \n    /**\n     * @param String $text\n     * @return NULL\n     */\n    function addText($text) {\n        \n    }\n  \n    /**\n     * @param Integer $k\n     * @return Integer\n     */\n    function deleteText($k) {\n        \n    }\n  \n    /**\n     * @param Integer $k\n     * @return String\n     */\n    function cursorLeft($k) {\n        \n    }\n  \n    /**\n     * @param Integer $k\n     * @return String\n     */\n    function cursorRight($k) {\n        \n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * $obj = TextEditor();\n * $obj->addText($text);\n * $ret_2 = $obj->deleteText($k);\n * $ret_3 = $obj->cursorLeft($k);\n * $ret_4 = $obj->cursorRight($k);\n */"}, {"value": "swift", "text": "Swift", "defaultCode": "\nclass TextEditor {\n\n    init() {\n        \n    }\n    \n    func addText(_ text: String) {\n        \n    }\n    \n    func deleteText(_ k: Int) -> Int {\n        \n    }\n    \n    func cursorLeft(_ k: Int) -> String {\n        \n    }\n    \n    func cursorRight(_ k: Int) -> String {\n        \n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * let obj = TextEditor()\n * obj.addText(text)\n * let ret_2: Int = obj.deleteText(k)\n * let ret_3: String = obj.cursorLeft(k)\n * let ret_4: String = obj.cursorRight(k)\n */"}, {"value": "kotlin", "text": "Kotlin", "defaultCode": "class TextEditor() {\n\n    fun addText(text: String) {\n        \n    }\n\n    fun deleteText(k: Int): Int {\n        \n    }\n\n    fun cursorLeft(k: Int): String {\n        \n    }\n\n    fun cursorRight(k: Int): String {\n        \n    }\n\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * var obj = TextEditor()\n * obj.addText(text)\n * var param_2 = obj.deleteText(k)\n * var param_3 = obj.cursorLeft(k)\n * var param_4 = obj.cursorRight(k)\n */"}, {"value": "dart", "text": "Dart", "defaultCode": "class TextEditor {\n\n  TextEditor() {\n    \n  }\n  \n  void addText(String text) {\n    \n  }\n  \n  int deleteText(int k) {\n    \n  }\n  \n  String cursorLeft(int k) {\n    \n  }\n  \n  String cursorRight(int k) {\n    \n  }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * TextEditor obj = TextEditor();\n * obj.addText(text);\n * int param2 = obj.deleteText(k);\n * String param3 = obj.cursorLeft(k);\n * String param4 = obj.cursorRight(k);\n */"}, {"value": "golang", "text": "Go", "defaultCode": "type TextEditor struct {\n    \n}\n\n\nfunc Constructor() TextEditor {\n    \n}\n\n\nfunc (this *TextEditor) AddText(text string)  {\n    \n}\n\n\nfunc (this *TextEditor) DeleteText(k int) int {\n    \n}\n\n\nfunc (this *TextEditor) CursorLeft(k int) string {\n    \n}\n\n\nfunc (this *TextEditor) CursorRight(k int) string {\n    \n}\n\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * obj := Constructor();\n * obj.AddText(text);\n * param_2 := obj.DeleteText(k);\n * param_3 := obj.CursorLeft(k);\n * param_4 := obj.CursorRight(k);\n */"}, {"value": "ruby", "text": "Ruby", "defaultCode": "class TextEditor\n    def initialize()\n        \n    end\n\n\n=begin\n    :type text: String\n    :rtype: Void\n=end\n    def add_text(text)\n        \n    end\n\n\n=begin\n    :type k: Integer\n    :rtype: Integer\n=end\n    def delete_text(k)\n        \n    end\n\n\n=begin\n    :type k: Integer\n    :rtype: String\n=end\n    def cursor_left(k)\n        \n    end\n\n\n=begin\n    :type k: Integer\n    :rtype: String\n=end\n    def cursor_right(k)\n        \n    end\n\n\nend\n\n# Your TextEditor object will be instantiated and called as such:\n# obj = TextEditor.new()\n# obj.add_text(text)\n# param_2 = obj.delete_text(k)\n# param_3 = obj.cursor_left(k)\n# param_4 = obj.cursor_right(k)"}, {"value": "scala", "text": "Scala", "defaultCode": "class TextEditor() {\n\n    def addText(text: String): Unit = {\n        \n    }\n\n    def deleteText(k: Int): Int = {\n        \n    }\n\n    def cursorLeft(k: Int): String = {\n        \n    }\n\n    def cursorRight(k: Int): String = {\n        \n    }\n\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * val obj = new TextEditor()\n * obj.addText(text)\n * val param_2 = obj.deleteText(k)\n * val param_3 = obj.cursorLeft(k)\n * val param_4 = obj.cursorRight(k)\n */"}, {"value": "rust", "text": "Rust", "defaultCode": "struct TextEditor {\n\n}\n\n\n/** \n * `&self` means the method takes an immutable reference.\n * If you need a mutable reference, change it to `&mut self` instead.\n */\nimpl TextEditor {\n\n    fn new() -> Self {\n        \n    }\n    \n    fn add_text(&self, text: String) {\n        \n    }\n    \n    fn delete_text(&self, k: i32) -> i32 {\n        \n    }\n    \n    fn cursor_left(&self, k: i32) -> String {\n        \n    }\n    \n    fn cursor_right(&self, k: i32) -> String {\n        \n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * let obj = TextEditor::new();\n * obj.add_text(text);\n * let ret_2: i32 = obj.delete_text(k);\n * let ret_3: String = obj.cursor_left(k);\n * let ret_4: String = obj.cursor_right(k);\n */"}, {"value": "racket", "text": "Racket", "defaultCode": "(define text-editor%\n  (class object%\n    (super-new)\n    \n    (init-field)\n    \n    ; add-text : string? -> void?\n    (define/public (add-text text)\n      )\n    ; delete-text : exact-integer? -> exact-integer?\n    (define/public (delete-text k)\n      )\n    ; cursor-left : exact-integer? -> string?\n    (define/public (cursor-left k)\n      )\n    ; cursor-right : exact-integer? -> string?\n    (define/public (cursor-right k)\n      )))\n\n;; Your text-editor% object will be instantiated and called as such:\n;; (define obj (new text-editor%))\n;; (send obj add-text text)\n;; (define param_2 (send obj delete-text k))\n;; (define param_3 (send obj cursor-left k))\n;; (define param_4 (send obj cursor-right k))"}, {"value": "erlang", "text": "Erlang", "defaultCode": "-spec text_editor_init_() -> any().\ntext_editor_init_() ->\n  .\n\n-spec text_editor_add_text(Text :: unicode:unicode_binary()) -> any().\ntext_editor_add_text(Text) ->\n  .\n\n-spec text_editor_delete_text(K :: integer()) -> integer().\ntext_editor_delete_text(K) ->\n  .\n\n-spec text_editor_cursor_left(K :: integer()) -> unicode:unicode_binary().\ntext_editor_cursor_left(K) ->\n  .\n\n-spec text_editor_cursor_right(K :: integer()) -> unicode:unicode_binary().\ntext_editor_cursor_right(K) ->\n  .\n\n\n%% Your functions will be called as such:\n%% text_editor_init_(),\n%% text_editor_add_text(Text),\n%% Param_2 = text_editor_delete_text(K),\n%% Param_3 = text_editor_cursor_left(K),\n%% Param_4 = text_editor_cursor_right(K),\n\n%% text_editor_init_ will be called before every test case, in which you can do some necessary initializations."}, {"value": "elixir", "text": "Elixir", "defaultCode": "defmodule TextEditor do\n  @spec init_() :: any\n  def init_() do\n    \n  end\n\n  @spec add_text(text :: String.t) :: any\n  def add_text(text) do\n    \n  end\n\n  @spec delete_text(k :: integer) :: integer\n  def delete_text(k) do\n    \n  end\n\n  @spec cursor_left(k :: integer) :: String.t\n  def cursor_left(k) do\n    \n  end\n\n  @spec cursor_right(k :: integer) :: String.t\n  def cursor_right(k) do\n    \n  end\nend\n\n# Your functions will be called as such:\n# TextEditor.init_()\n# TextEditor.add_text(text)\n# param_2 = TextEditor.delete_text(k)\n# param_3 = TextEditor.cursor_left(k)\n# param_4 = TextEditor.cursor_right(k)\n\n# TextEditor.init_ will be called before every test case, in which you can do some necessary initializations."}, {"value": "cangjie", "text": "Cangjie", "defaultCode": "class TextEditor {\n    init() {\n\n    }\n    \n    func addText(text: String): Unit {\n\n    }\n    \n    func deleteText(k: Int64): Int64 {\n\n    }\n    \n    func cursorLeft(k: Int64): String {\n\n    }\n    \n    func cursorRight(k: Int64): String {\n\n    }\n}\n\n/**\n * Your TextEditor object will be instantiated and called as such:\n * let obj: TextEditor = TextEditor()\n * obj.addText(text)\n * let param_2 = obj.deleteText(k)\n * let param_3 = obj.cursorLeft(k)\n * let param_4 = obj.cursorRight(k)\n */"}]}