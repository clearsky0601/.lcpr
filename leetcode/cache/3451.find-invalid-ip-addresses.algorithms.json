{"id": 3451, "fid": "3451", "name": "查找无效的 IP 地址", "slug": "find-invalid-ip-addresses", "link": "https://leetcode.cn/problems/find-invalid-ip-addresses/description/", "percent": 0, "level": "Hard", "category": "algorithms", "en_name": "Find Invalid IP Addresses", "cn_name": "查找无效的 IP 地址", "desc": "<p>表：<code>logs</code></p>\n\n<pre>\n+-------------+---------+\n| Column Name | Type    |\n+-------------+---------+\n| log_id      | int     |\n| ip          | varchar |\n| status_code | int     |\n+-------------+---------+\nlog_id 是这张表的唯一主键。\n每一行包含服务器访问日志信息，包括 IP 地址和 HTTP 状态码。\n</pre>\n\n<p>编写一个解决方案来查找 <strong>无效的 IP 地址</strong>。一个 IPv4 地址如果满足以下任何条件之一，则无效：</p>\n\n<ul>\n\t<li>任何 8 位字节中包含大于 255 的数字</li>\n\t<li>任何 8 位字节中含有 <strong>前导零</strong>（如&nbsp;<code>01.02.03.04</code>）</li>\n\t<li><strong>少于或多于</strong>&nbsp;<code>4</code>&nbsp;个 8 位字节</li>\n</ul>\n\n<p>返回结果表分别以&nbsp;<code>invalid_count</code>，<code>ip</code>&nbsp;<strong>降序</strong>&nbsp;排序。</p>\n\n<p>结果格式如下所示。</p>\n\n<p>&nbsp;</p>\n\n<p><strong class=\"example\">示例：</strong></p>\n\n<div class=\"example-block\">\n<p><strong>输入：</strong></p>\n\n<p>logs 表：</p>\n\n<pre class=\"example-io\">\n+--------+---------------+-------------+\n| log_id | ip            | status_code | \n+--------+---------------+-------------+\n| 1      | 192.168.1.1   | 200         | \n| 2      | 256.1.2.3     | 404         | \n| 3      | 192.168.001.1 | 200         | \n| 4      | 192.168.1.1   | 200         | \n| 5      | 192.168.1     | 500         | \n| 6      | 256.1.2.3     | 404         | \n| 7      | 192.168.001.1 | 200         | \n+--------+---------------+-------------+\n</pre>\n\n<p><strong>输出：</strong></p>\n\n<pre class=\"example-io\">\n+---------------+--------------+\n| ip            | invalid_count|\n+---------------+--------------+\n| 256.1.2.3     | 2            |\n| 192.168.001.1 | 2            |\n| 192.168.1     | 1            |\n+---------------+--------------+\n</pre>\n\n<p><strong>解释：</strong></p>\n\n<ul>\n\t<li>256.1.2.3 是无效的，因为&nbsp;256 &gt; 255</li>\n\t<li>192.168.001.1 是无效的，因为有前导零</li>\n\t<li>192.168.1 是非法的，因为只有 3 个 8 位字节</li>\n</ul>\n\n<p>输出表分别以&nbsp;<code>invalid_count</code>，<code>ip</code>&nbsp;降序排序。</p>\n</div>\n", "templates": [{"value": "mysql", "text": "MySQL", "defaultCode": "# Write your MySQL query statement below"}, {"value": "mssql", "text": "MS SQL Server", "defaultCode": "/* Write your T-SQL query statement below */"}, {"value": "oraclesql", "text": "Oracle", "defaultCode": "/* Write your PL/SQL query statement below */"}, {"value": "pythondata", "text": "Pandas", "defaultCode": "import pandas as pd\n\ndef find_invalid_ips(logs: pd.DataFrame) -> pd.DataFrame:\n    "}, {"value": "postgresql", "text": "PostgreSQL", "defaultCode": "-- Write your PostgreSQL query statement below"}]}