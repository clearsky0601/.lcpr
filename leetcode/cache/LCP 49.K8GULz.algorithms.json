{"id": "LCP 49", "fid": "LCP 49", "name": "环形闯关游戏", "slug": "K8GULz", "link": "https://leetcode.cn/problems/K8GULz/description/", "percent": 0, "level": "Hard", "category": "algorithms", "en_name": "环形闯关游戏", "cn_name": "环形闯关游戏", "desc": "「力扣挑战赛」中有一个由 `N` 个关卡组成的**环形**闯关游戏，关卡编号为 `0`~`N-1`，编号 `0` 的关卡和编号 `N-1` 的关卡相邻。每个关卡均有积分要求，`challenge[i]` 表示挑战编号 `i` 的关卡最少需要拥有的积分。\n![图片.png](https://pic.leetcode-cn.com/1630392170-ucncVS-%E5%9B%BE%E7%89%87.png){:width=\"240px\"}\n\n\n小扣想要挑战关卡，闯关具体规则如下：\n\n- 初始小扣可以指定其中一个关卡为「开启」状态，其余关卡将处于「未开启」状态。\n- 小扣可以挑战处于「开启」状态且**满足最少积分要求**的关卡，若小扣挑战该关卡前积分为 `score`，挑战结束后，积分将增长为 `score|challenge[i]`（即位运算中的 `\"OR\"` 运算）\n- 在挑战某个关卡后，该关卡两侧相邻的关卡将会开启（若之前未开启）\n\n请帮助小扣进行计算，初始最少需要多少积分，可以挑战 **环形闯关游戏** 的所有关卡。\n\n**示例1：**\n\n> 输入：`challenge = [5,4,6,2,7]`\n>\n> 输出：`4`\n> \n> 解释： 初始选择编号 3 的关卡开启，积分为 4\n>挑战编号 3 的关卡，积分变为 $4 | 2 = 6$，开启 2、4 处的关卡\n>挑战编号 2 的关卡，积分变为 $6 | 6 = 6$，开启 1 处的关卡\n>挑战编号 1 的关卡，积分变为 $6 | 4 = 6$，开启 0 处的关卡\n>挑战编号 0 的关卡，积分变为 $6 | 5 = 7$\n>挑战编号 4 的关卡，顺利完成全部的关卡\n\n\n**示例2：**\n\n> 输入：`challenge = [12,7,11,3,9]`\n>\n> 输出：`8`\n>\n> 解释： 初始选择编号 3 的关卡开启，积分为 8\n>挑战编号 3 的关卡，积分变为 $8 | 3 = 11$，开启 2、4 处的关卡\n>挑战编号 2 的关卡，积分变为 $11 | 11 = 11$，开启 1 处的关卡\n>挑战编号 4 的关卡，积分变为 $11 | 9 = 11$，开启 0 处的关卡\n>挑战编号 1 的关卡，积分变为 $11 | 7 = 15$\n>挑战编号 0 的关卡，顺利完成全部的关卡\n\n**示例3：**\n\n> 输入：`challenge = [1,1,1]`\n>\n> 输出：`1`\n\n**提示：** \n- `1 <= challenge.length <= 5*10^4`\n- `1 <= challenge[i] <= 10^14`", "templates": [{"value": "cpp", "text": "C++", "defaultCode": "class Solution {\npublic:\n    long long ringGame(vector<long long>& challenge) {\n\n    }\n};"}, {"value": "java", "text": "Java", "defaultCode": "class Solution {\n    public long ringGame(long[] challenge) {\n\n    }\n}"}, {"value": "python", "text": "Python", "defaultCode": "class Solution(object):\n    def ringGame(self, challenge):\n        \"\"\"\n        :type challenge: List[int]\n        :rtype: int\n        \"\"\""}, {"value": "python3", "text": "Python3", "defaultCode": "class Solution:\n    def ringGame(self, challenge: List[int]) -> int:"}, {"value": "c", "text": "C", "defaultCode": "\n\nlong long ringGame(long long* challenge, int challengeSize){\n\n}"}, {"value": "csharp", "text": "C#", "defaultCode": "public class Solution {\n    public long RingGame(long[] challenge) {\n\n    }\n}"}, {"value": "javascript", "text": "JavaScript", "defaultCode": "/**\n * @param {BigInt[]} challenge\n * @return {BigInt}\n */\nvar ringGame = function(challenge) {\n\n};"}, {"value": "typescript", "text": "TypeScript", "defaultCode": "function ringGame(challenge: BigInt[]): BigInt {\n\n};"}, {"value": "php", "text": "PHP", "defaultCode": "class Solution {\n\n    /**\n     * @param Integer[] $challenge\n     * @return Integer\n     */\n    function ringGame($challenge) {\n\n    }\n}"}, {"value": "swift", "text": "Swift", "defaultCode": "class Solution {\n    func ringGame(_ challenge: [Int]) -> Int {\n\n    }\n}"}, {"value": "kotlin", "text": "Kotlin", "defaultCode": "class Solution {\n    fun ringGame(challenge: LongArray): Long {\n\n    }\n}"}, {"value": "golang", "text": "Go", "defaultCode": "func ringGame(challenge []int64) int64 {\n\n}"}, {"value": "ruby", "text": "Ruby", "defaultCode": "# @param {Integer[]} challenge\n# @return {Integer}\ndef ring_game(challenge)\n\nend"}, {"value": "scala", "text": "Scala", "defaultCode": "object Solution {\n    def ringGame(challenge: Array[Long]): Long = {\n\n    }\n}"}, {"value": "rust", "text": "Rust", "defaultCode": "impl Solution {\n    pub fn ring_game(challenge: Vec<i64>) -> i64 {\n\n    }\n}"}, {"value": "racket", "text": "Racket", "defaultCode": "(define/contract (ring-game challenge)\n  (-> (listof exact-integer?) exact-integer?)\n\n  )"}, {"value": "erlang", "text": "Erlang", "defaultCode": "-spec ring_game(Challenge :: [integer()]) -> integer().\nring_game(Challenge) ->\n  ."}, {"value": "elixir", "text": "Elixir", "defaultCode": "defmodule Solution do\n  @spec ring_game(challenge :: [integer]) :: integer\n  def ring_game(challenge) do\n\n  end\nend"}]}