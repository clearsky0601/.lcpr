# LCPR 目录结构配置指南

## 📁 目录结构设计

### 目标结构

```
.lcpr/
├── py/                          # Python题目
│   ├── 1.two-sum/
│   │   ├── solution.py          # 第一个解法（默认）
│   │   ├── solution2-brute-force.py  # 第二个解法
│   │   ├── solution3-two-pointer.py # 第三个解法
│   │   └── README.md            # 题目说明和解题思路
│   ├── 560.subarray-sum-equals-k/
│   │   ├── solution1-prefix-sum.py
│   │   ├── solution2-brute-force.py
│   │   └── README.md
│   └── ...
├── cpp/                         # C++题目
│   ├── 1.two-sum/
│   │   ├── solution.cpp
│   │   └── README.md
│   └── ...
├── java/                        # Java题目
│   ├── 1.two-sum/
│   │   ├── Solution.java
│   │   └── README.md
│   └── ...
├── leetcode/                    # 插件数据（不变）
│   ├── cache/
│   └── ...
└── .lcpr_data/                  # 刷题进度（不变）
    └── bricks.json
```

## 🎯 设计原则

1. **按语言分类**：每种语言一个顶级文件夹（`py/`, `cpp/`, `java/`等）
2. **每道题一个文件夹**：文件夹名为 `{题目编号}.{题目slug}`
3. **多解法用不同文件**：
   - 第一个解法：`solution.py`（或 `solution.cpp`等）
   - 后续解法：`solution2-{方法名}.py`、`solution3-{方法名}.py`
4. **README文件**：每个题目文件夹包含一个README，记录题目信息和解题思路

## ⚙️ 插件配置

### 已配置的设置

在 `.vscode/settings.json` 中已添加以下配置：

```json
{
  "leetcode-problem-rating.defaultLanguage": "python3",
  "leetcode-problem-rating.filePath": {
    "python3": {
      "folder": "py/${id}.${kebab-case-name}",
      "filename": "solution.py"
    },
    "cpp": {
      "folder": "cpp/${id}.${kebab-case-name}",
      "filename": "solution.cpp"
    }
  }
}
```

### 配置说明

- **`defaultLanguage`**: 默认使用 `python3`
- **`filePath`**: 
  - `folder`: 文件保存的文件夹路径
    - `${id}`: 题目编号（如 `1`, `560`）
    - `${kebab-case-name}`: 题目slug（如 `two-sum`）
  - `filename`: 文件名模板
    - 首次创建时使用 `solution.py`
    - 如果文件已存在，插件会提示是否覆盖

## 🚀 使用流程

### 1. 创建新题目

1. 打开插件，选择要刷的题目
2. 浏览题目描述
3. 点击 **"Code Now"** 按钮
4. 插件会自动在 `py/1.two-sum/solution.py` 创建文件

### 2. 添加新解法

当你想要用不同方法解决同一道题时：

1. **方法1（推荐）**：在同一文件夹中创建新文件
   ```
   py/1.two-sum/
   ├── solution.py              # 哈希表解法
   ├── solution2-brute-force.py # 暴力解法
   └── solution3-two-pointer.py # 双指针解法
   ```

2. **方法2**：在同一文件中用注释保留多个解法
   ```python
   # solution.py
   class Solution:
       def twoSum(self, nums, target):
           # ========== 方法1：哈希表 ==========
           # 当前使用的解法
           
           # ========== 方法2：暴力 ==========
           # 已注释的解法
   ```

### 3. 整理现有文件

使用提供的重组脚本：

```bash
# 预览模式（不实际移动文件）
python3 reorganize_structure.py --dry-run

# 实际执行（会备份原文件）
python3 reorganize_structure.py --backup

# 指定目录
python3 reorganize_structure.py --source-dir ~/.lcpr --target-dir ~/.lcpr
```

## 📝 文件命名规范

### 解法文件命名

- **第一个解法**：`solution.py`（或对应语言的扩展名）
- **后续解法**：`solution2-{方法名}.py`
  - `solution2-brute-force.py` - 暴力解法
  - `solution2-two-pointer.py` - 双指针
  - `solution2-hashmap.py` - 哈希表
  - `solution2-dp.py` - 动态规划
  - `solution2-dfs.py` - 深度优先搜索
  - `solution2-bfs.py` - 广度优先搜索

### README.md 模板

```markdown
# {题目编号}. {题目名称}

## 题目链接
https://leetcode.cn/problems/{slug}/

## 难度
Easy / Medium / Hard

## 题目描述
（简要描述）

## 解法

### 方法1：{方法名}
- 文件：`solution.py`
- 时间复杂度：O(n)
- 空间复杂度：O(n)
- 思路：...

### 方法2：{方法名}
- 文件：`solution2-{方法名}.py`
- 时间复杂度：O(n²)
- 空间复杂度：O(1)
- 思路：...
```

## 🔧 高级配置

### 自定义文件路径模板

如果需要修改文件路径模板，可以编辑 `.vscode/settings.json`：

```json
{
  "leetcode-problem-rating.filePath": {
    "python3": {
      "folder": "py/${id}.${kebab-case-name}",
      "filename": "solution.py"
    }
  }
}
```

**可用变量**：
- `${id}` - 题目编号
- `${name}` - 题目名称（原始格式）
- `${kebab-case-name}` - kebab-case格式的slug
- `${camelCaseName}` - camelCase格式
- `${PascalCaseName}` - PascalCase格式
- `${snake_case_name}` - snake_case格式
- `${ext}` - 文件扩展名

### 切换默认语言

```json
{
  "leetcode-problem-rating.defaultLanguage": "cpp"  // 或 "java", "javascript" 等
}
```

## 📋 注意事项

1. **首次创建题目**：插件会创建文件夹和 `solution.py` 文件
2. **文件已存在**：插件会提示是否覆盖，建议选择"否"，然后手动创建新文件
3. **多解法管理**：建议使用 `solution2-`, `solution3-` 这样的命名便于识别
4. **README文件**：手动创建，记录解题思路和复杂度分析

## 🎓 最佳实践

1. ✅ **保持目录整洁**：按语言和题目分类
2. ✅ **命名清晰**：文件名要能体现解法特点
3. ✅ **记录思路**：在README中记录时间/空间复杂度和解题思路
4. ✅ **版本控制**：使用Git跟踪代码变化
5. ✅ **定期整理**：定期运行重组脚本整理文件

## 🔍 故障排除

### Q: 插件没有按配置的路径创建文件？

A: 检查：
1. `.vscode/settings.json` 中的配置是否正确
2. 重启Cursor/VSCode
3. 检查插件是否支持该配置项

### Q: 如何更改已创建题目的位置？

A: 
1. 手动移动文件到新位置
2. 或使用重组脚本自动整理

### Q: 多解法文件如何管理？

A: 
- 推荐：每个解法一个文件（`solution.py`, `solution2-xxx.py`）
- 备选：在同一文件中用注释保留多个解法

---

**配置完成后，每次点击 "Code Now" 都会在对应的语言和题目文件夹下创建文件！**


