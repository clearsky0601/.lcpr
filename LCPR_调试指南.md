# LCPR 插件调试使用指南

## 📋 调试流程

### 步骤 1：设置断点
在你的代码中点击行号左侧，设置断点（红色圆点）。推荐位置：
- 函数入口（第38行）
- 循环开始（第51行）
- 关键逻辑处（第54行、第66行）

### 步骤 2：启动调试
1. 找到代码中的 `@lcpr case=start` 部分（第67行或第71行）
2. 点击 case 上方的 **"Debug"** 按钮
3. 调试器会启动

### 步骤 3：跳过插件代码
当调试器停在 `python3problem560.py` 这类插件代码时：

**方法 A：使用"继续"按钮（推荐）**
- 点击调试工具栏的 **"继续"**（▶️）或按 **F5**
- 调试器会继续执行，直到遇到**你设置的断点**

**方法 B：使用"单步跳过"**
- 点击 **"单步跳过"**（⏭️）或按 **F10**
- 逐行执行，跳过插件代码

**方法 C：直接运行到断点**
- 如果有断点，直接按 **F5**，会直接跳到你的断点处

### 步骤 4：查看变量
当停在你自己的代码时：
- **左侧面板**：查看所有变量的值
- **悬停查看**：鼠标悬停在变量上查看值
- **调试控制台**：可以输入表达式，如 `prefix_sum - k`、`dict(prefix_sum_count)`

### 步骤 5：单步调试
- **单步跳过（F10）**：执行当前行，不进入函数内部
- **单步跳入（F11）**：进入函数内部调试
- **单步跳出（Shift+F11）**：跳出当前函数
- **继续（F5）**：继续执行到下一个断点

## 🎯 实战示例

### 示例 1：调试第一个测试用例

1. **设置断点**：在第 54 行（`prefix_sum += num`）设置断点
2. **点击 Debug**：点击第 67 行 case 的 Debug 按钮
3. **跳过插件代码**：如果停在插件代码，按 **F5** 继续
4. **查看变量**：
   - `nums = [1, 1, 1]`
   - `k = 2`
   - `prefix_sum = 0`（初始值）
   - `count = 0`
5. **单步执行**：按 **F10** 逐行执行，观察：
   - 第 1 次循环：`num=1`, `prefix_sum=1`, `target=-1`（不在哈希表中）
   - 第 2 次循环：`num=1`, `prefix_sum=2`, `target=0`（在哈希表中！）→ `count` 变为 1
   - 第 3 次循环：`num=1`, `prefix_sum=3`, `target=1`（在哈希表中！）→ `count` 变为 2

### 示例 2：调试条件判断

1. **设置断点**：在第 66 行（`if prefix_sum - k in prefix_sum_count:`）设置断点
2. **启动调试**：点击 Debug 按钮
3. **查看表达式**：在调试控制台输入：
   ```python
   prefix_sum - k  # 查看目标值
   prefix_sum - k in prefix_sum_count  # 查看条件结果
   dict(prefix_sum_count)  # 查看哈希表内容
   ```

## 🔧 调试技巧

### 技巧 1：条件断点
右键点击断点 → 编辑断点 → 添加条件：
- `num == 1`：只在处理特定值时停止
- `prefix_sum - k in prefix_sum_count`：只在找到匹配时停止

### 技巧 2：日志断点
右键点击断点 → 编辑断点 → 勾选"日志消息"：
- 输入：`处理 {num}, prefix_sum={prefix_sum}, count={count}`
- 这样不需要停止执行就能看到日志

### 技巧 3：监控表达式
在调试面板的"监视"区域添加表达式：
- `prefix_sum - k`
- `prefix_sum_count.get(prefix_sum - k, 0)`
- `len(prefix_sum_count)`

### 技巧 4：调用堆栈
查看左侧的"调用堆栈"面板，可以看到：
- `subarraySum`（你的函数）
- `runUserScript`（插件代码）
- `start`（插件代码）

点击堆栈中的不同层级，可以查看不同函数中的变量。

## ⚠️ 常见问题

### Q1: 为什么调试器停在插件代码中？
**A**: 这是正常的。插件代码负责调用你的函数。只需按 **F5** 继续，就会跳到你的代码。

### Q2: 如何跳过所有插件代码？
**A**: 在你的代码中设置断点，然后按 **F5**（继续），会自动跳到你设置的断点。

### Q3: 看不到变量值？
**A**: 确保：
1. 调试器停在你自己的代码中（不是插件代码）
2. 变量在当前作用域内（如 `prefix_sum` 必须在循环内才能看到）

### Q4: 调试控制台显示错误？
**A**: 调试控制台只能执行 Python 表达式，不能执行复杂的语句。

## 📝 调试快捷键总结

- **F5**: 继续执行到下一个断点
- **F10**: 单步跳过（执行当前行）
- **F11**: 单步跳入（进入函数）
- **Shift+F11**: 单步跳出（跳出函数）
- **Ctrl+Shift+F5**: 重启调试
- **Shift+F5**: 停止调试

## 🎓 推荐调试流程

1. **第一次调试**：在函数入口设置断点，按 F5 继续，快速查看输入参数
2. **详细调试**：在循环内设置断点，使用 F10 逐行执行，观察每步变化
3. **问题定位**：在关键判断处设置条件断点，快速定位问题

现在试试看！设置断点后点击 Debug，然后按 F5 继续，就能看到你的代码执行过程了！

